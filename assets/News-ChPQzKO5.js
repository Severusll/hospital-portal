import{b as N}from"./index-NP0CJgY4.js";import{_ as $,r as n,o as z,c as m,a as t,d as w,w as f,e as r,f as l,F as B,h as P,i as D,t as i}from"./index-FZeZTQtF.js";const F={class:"page"},L=["onClick"],U={class:"cover-wrap"},V=["src","alt","onError"],M={class:"body"},R={class:"title"},S={class:"meta"},q={class:"excerpt"},A={class:"pager"},G={__name:"News",setup(H){const c=n(0),_=n(9),p=n(0),d=n([]),C="./",g=e=>`${C}images/${encodeURIComponent(e)}`,a=["数字化医院.jpg","环境改造工程.jpg","医疗技能大赛.jpg","关爱老年人健康.jpg","骨科公益讲座.jpg","高血压科普.jpg"],b=(e,s)=>e.coverImage?e.coverImage:g(a[s%a.length]),k=(e,s)=>{e.target.src=g(s)},y=e=>e?e.slice(0,60)+(e.length>60?"…":""):"了解最新院内动态",u=async()=>{try{const e=await N(c.value,_.value);d.value=e.content||[],p.value=e.totalElements||0}catch(e){console.error(e)}},j=e=>{c.value=e-1,u()};return z(u),(e,s)=>{const x=r("el-col"),E=r("el-row"),I=r("el-pagination");return l(),m("div",F,[s[0]||(s[0]=t("div",{class:"page-head"},[t("h2",null,"新闻中心")],-1)),w(E,{gutter:16},{default:f(()=>[(l(!0),m(B,null,P(d.value,(o,v)=>(l(),D(x,{key:o.id,xs:24,sm:12,md:8},{default:f(()=>[t("div",{class:"news-card",onClick:h=>e.$router.push(`/news/${o.id}`)},[t("div",U,[t("img",{class:"cover",src:b(o,v),alt:o.title,loading:"lazy",onError:h=>k(h,a[v%a.length])},null,40,V)]),t("div",M,[t("div",R,i(o.title),1),t("div",S,i(o.publishDate||"近期发布"),1),t("p",q,i(y(o.content)),1)])],8,L)]),_:2},1024))),128))]),_:1}),t("div",A,[w(I,{background:"",layout:"prev, pager, next","page-size":_.value,"current-page":c.value+1,total:p.value,onCurrentChange:j},null,8,["page-size","current-page","total"])])])}}},O=$(G,[["__scopeId","data-v-012b4b58"]]);export{O as default};
