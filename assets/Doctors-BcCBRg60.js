import{f as j}from"./index-BzuWEWO5.js";import{_ as E,r as c,j as N,o as F,c as v,a,d,u as I,s as S,e as s,w as u,f as r,F as w,h as g,i as x,g as $,t as i}from"./index-DWGs3jnA.js";const z={class:"page"},A={class:"page-head"},K={class:"filters"},M={class:"doc-card"},R=["src","alt"],T={class:"info"},q={class:"name"},G={class:"meta"},H={class:"desc"},J={__name:"Doctors",setup(O){const p=c([]),_=c(""),l=c(""),f=c([]),C="./",h=t=>`${C}images/${encodeURIComponent(t)}`,V=t=>t.avatarUrl||h("医生头像.jpg"),k=t=>{t.target.src=h("医生头像.jpg")},b=N(()=>p.value.filter(t=>{const o=l.value?t.department?.toLowerCase()===l.value.toLowerCase():!0,n=_.value.trim().toLowerCase(),m=n?t.name?.toLowerCase().includes(n)||t.specialty?.toLowerCase().includes(n):!0;return o&&m})),y=async()=>{try{p.value=await j(l.value||void 0);const t=p.value.map(o=>o.department).filter(Boolean);f.value=[...new Set(t)]}catch(t){console.error(t)}};return F(y),(t,o)=>{const n=s("el-input"),m=s("el-option"),D=s("el-select"),L=s("el-button"),B=s("el-col"),U=s("el-row");return r(),v("div",z,[a("div",A,[o[3]||(o[3]=a("h2",null,"专家团队",-1)),a("div",K,[d(n,{modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=e=>_.value=e),placeholder:"按姓名或专长搜索",clearable:"","prefix-icon":I(S),style:{"max-width":"240px"}},null,8,["modelValue","prefix-icon"]),d(D,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),placeholder:"按科室筛选",clearable:"",style:{"max-width":"200px"}},{default:u(()=>[(r(!0),v(w,null,g(f.value,e=>(r(),x(m,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),d(L,{type:"primary",onClick:y},{default:u(()=>[...o[2]||(o[2]=[$("查询",-1)])]),_:1})])]),d(U,{gutter:16},{default:u(()=>[(r(!0),v(w,null,g(b.value,e=>(r(),x(B,{key:e.id,xs:24,sm:12,md:8},{default:u(()=>[a("div",M,[a("img",{class:"avatar",src:V(e),alt:e.name,loading:"lazy",onError:k},null,40,R),a("div",T,[a("div",q,i(e.name),1),a("div",G,i(e.title)+" · "+i(e.department),1),a("p",H,i(e.specialty||"擅长综合诊疗"),1)])])]),_:2},1024))),128))]),_:1})])}}},W=E(J,[["__scopeId","data-v-dd873ddc"]]);export{W as default};
